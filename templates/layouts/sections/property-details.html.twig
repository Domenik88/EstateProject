{% set detailsOutputParams = {
    location: {
        title: 'Location Details',

        colLabels: {
            country: 'Area',
            state: 'State',
            city: 'City',
            postalCode: 'Postal Code',
            streetAddress: 'Sub-Area/Community',
        },

        outputProps: ['country','state','city','postalCode','streetAddress']
    },
    metrics: {
        title: 'Property Metrics',

        colLabels: {
            bedRooms: 'Total Bedrooms',
            bathRooms: 'Full Baths',
            stories: 'Stories',
            sqrtFootage: 'Floor Area Total (' ~ metrics.sqrtFootageUnits|default('Sq.ft') ~ ')',
        },

        outputProps: ['bedRooms', 'bathRooms', 'stories', 'sqrtFootage']
    },
    financials: {
        title: 'Financial Details',

        colLabels: {
            listingPrice: 'List Price',
            strataMaintenanceFee: 'Strata Maint. Fee',
            grossTaxes: 'Gross taxes',
            grossTaxYear: 'Gross Taxes Year',
        },

        outputProps: ['listingPrice','strataMaintenanceFee','grossTaxes','grossTaxYear',]
    },
} %}

<section class="property-details mb70">
    {% include 'layouts/common/title-block.html.twig' with {
        tag: 'h3',
        text: title|default('Property details'),
    } %}

    {% if description|default(false) %}
        <p class="property-details__description table-text mb50">
            {{ description }}
        </p>
    {% endif %}

    <div class="property-table pt50 pb50">
        {% if list|default(false) %}
            <div class="property-table__top pb50 mb50">
                <div class="property-table__list">
                    {% for key, val in list|cast_to_array %}
                        <div class="property-table__col">
                            <h5 class="property-table__title h5 mb20">{{ attribute(detailsOutputParams, key).title }}</h5>

                            {% for prop in attribute(detailsOutputParams, key).outputProps %}
                                {% if attribute(val, prop)|default('')|length %}
                                    <div class="property-table__row table-text mb20">
                                        <span class="property-table__label">
                                            {{ attribute(detailsOutputParams, key).colLabels[prop] }}
                                        </span>

                                        <span class="property-table__val">
                                            {{ attribute(val, prop) }}
                                        </span>
                                    </div>
                                {% endif %}
                            {% endfor %}
                        </div>
                    {% endfor %}
                </div>
            </div>
        {% endif %}

        <div class="property-table__bottom">
            <h5 class="property-table__title icon-mls h5 mb20">Listed by<br>Estateblock Realty</h5>

            <div class="text-block">
                <p>{{ bottomText|default('This representation is based in whole or in part on data generated by the Chilliwack & District Real Estate Board, Fraser Valley Real Estate Board or Real Estate Board of Greater Vancouver which assumes no responsibility for its accuracy.') }}</p>
            </div>
        </div>
    </div>
</section>
